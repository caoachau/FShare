{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{newsData,getNewsByCategory}from\"../data/newsData\";import\"./FeaturedNews.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FeaturedNews=()=>{const[activeFilter,setActiveFilter]=useState(\"all\");const[visibleNews,setVisibleNews]=useState(newsData);const navigate=useNavigate();// Thêm state và useEffect cho auto-rotation\nconst[currentMainIndex,setCurrentMainIndex]=useState(0);useEffect(()=>{const interval=setInterval(()=>{if(visibleNews.length>1){setCurrentMainIndex(prev=>(prev+1)%visibleNews.length);}},5000);// Thay đổi mỗi 5 giây\nreturn()=>clearInterval(interval);},[visibleNews.length]);useEffect(()=>{filterNews(activeFilter);},[activeFilter]);const filterNews=category=>{if(category===\"all\"){setVisibleNews(newsData);}else{setVisibleNews(getNewsByCategory(category));}};const handleNewsClick=newsId=>{navigate(\"/news/\".concat(newsId));};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString(\"vi-VN\",{year:\"numeric\",month:\"long\",day:\"numeric\"});};// Cập nhật mainNews và sideNews\nconst mainNews=visibleNews[currentMainIndex];const sideNews=visibleNews.filter((_,index)=>index!==currentMainIndex).slice(0,4);return/*#__PURE__*/_jsx(\"section\",{className:\"featured-news-mit\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"news-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"TIN T\\u1EE8C N\\u1ED4I B\\u1EACT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-filters\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"filter-bt \".concat(activeFilter===\"all\"?\"active\":\"\"),onClick:()=>setActiveFilter(\"all\"),children:\"T\\u1EA5t c\\u1EA3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-bt \".concat(activeFilter===\"featured\"?\"active\":\"\"),onClick:()=>setActiveFilter(\"featured\"),children:\"N\\u1ED5i b\\u1EADt\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-bt \".concat(activeFilter===\"new\"?\"active\":\"\"),onClick:()=>setActiveFilter(\"new\"),children:\"M\\u1EDBi\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filter-bt \".concat(activeFilter===\"trending\"?\"active\":\"\"),onClick:()=>setActiveFilter(\"trending\"),children:\"Xu h\\u01B0\\u1EDBng\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/news\",className:\"view-all-link\",children:[\"Xem t\\u1EA5t c\\u1EA3\",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-right\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-content\",children:[mainNews&&/*#__PURE__*/_jsx(\"div\",{className:\"main-news\",onClick:()=>handleNewsClick(mainNews.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-news-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:mainNews.image||\"/placeholder.svg?height=400&width=600\",alt:mainNews.title}),/*#__PURE__*/_jsx(\"div\",{className:\"news-overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-content-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"news-date\",children:formatDate(mainNews.publishDate)}),/*#__PURE__*/_jsx(\"h3\",{className:\"news-title\",children:mainNews.title}),/*#__PURE__*/_jsx(\"p\",{className:\"news-description\",children:mainNews.description.length>150?\"\".concat(mainNews.description.substring(0,150),\"...\"):mainNews.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"side-news\",children:sideNews.map(news=>/*#__PURE__*/_jsxs(\"div\",{className:\"side-news-item\",onClick:()=>handleNewsClick(news.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"side-news-image\",children:/*#__PURE__*/_jsx(\"img\",{src:news.image||\"/placeholder.svg?height=120&width=200\",alt:news.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"side-news-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"side-news-title\",children:news.title.length>60?\"\".concat(news.title.substring(0,60),\"...\"):news.title}),/*#__PURE__*/_jsx(\"div\",{className:\"side-news-date\",children:formatDate(news.publishDate)})]})]},news.id))})]})]})});};export default FeaturedNews;","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","newsData","getNewsByCategory","jsx","_jsx","jsxs","_jsxs","FeaturedNews","activeFilter","setActiveFilter","visibleNews","setVisibleNews","navigate","currentMainIndex","setCurrentMainIndex","interval","setInterval","length","prev","clearInterval","filterNews","category","handleNewsClick","newsId","concat","formatDate","dateString","Date","toLocaleDateString","year","month","day","mainNews","sideNews","filter","_","index","slice","className","children","onClick","to","id","src","image","alt","title","publishDate","description","substring","map","news"],"sources":["D:/untitled7/src/components/FeaturedNews.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport { newsData, getNewsByCategory } from \"../data/newsData\"\r\nimport \"./FeaturedNews.css\"\r\n\r\nconst FeaturedNews: React.FC = () => {\r\n    const [activeFilter, setActiveFilter] = useState(\"all\")\r\n    const [visibleNews, setVisibleNews] = useState(newsData)\r\n    const navigate = useNavigate()\r\n\r\n    // Thêm state và useEffect cho auto-rotation\r\n    const [currentMainIndex, setCurrentMainIndex] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if (visibleNews.length > 1) {\r\n                setCurrentMainIndex((prev) => (prev + 1) % visibleNews.length)\r\n            }\r\n        }, 5000) // Thay đổi mỗi 5 giây\r\n\r\n        return () => clearInterval(interval)\r\n    }, [visibleNews.length])\r\n\r\n    useEffect(() => {\r\n        filterNews(activeFilter)\r\n    }, [activeFilter])\r\n\r\n    const filterNews = (category: string) => {\r\n        if (category === \"all\") {\r\n            setVisibleNews(newsData)\r\n        } else {\r\n            setVisibleNews(getNewsByCategory(category))\r\n        }\r\n    }\r\n\r\n    const handleNewsClick = (newsId: number) => {\r\n        navigate(`/news/${newsId}`)\r\n    }\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString(\"vi-VN\", {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n        })\r\n    }\r\n\r\n    // Cập nhật mainNews và sideNews\r\n    const mainNews = visibleNews[currentMainIndex]\r\n    const sideNews = visibleNews.filter((_, index) => index !== currentMainIndex).slice(0, 4)\r\n\r\n    return (\r\n        <section className=\"featured-news-mit\">\r\n            <div className=\"container\">\r\n                <div className=\"news-header\">\r\n                    <h2>TIN TỨC NỔI BẬT</h2>\r\n                    <div className=\"news-filters\">\r\n                        <button\r\n                            className={`filter-bt ${activeFilter === \"all\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveFilter(\"all\")}\r\n                        >\r\n                            Tất cả\r\n                        </button>\r\n                        <button\r\n                            className={`filter-bt ${activeFilter === \"featured\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveFilter(\"featured\")}\r\n                        >\r\n                            Nổi bật\r\n                        </button>\r\n                        <button\r\n                            className={`filter-bt ${activeFilter === \"new\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveFilter(\"new\")}\r\n                        >\r\n                            Mới\r\n                        </button>\r\n                        <button\r\n                            className={`filter-bt ${activeFilter === \"trending\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveFilter(\"trending\")}\r\n                        >\r\n                            Xu hướng\r\n                        </button>\r\n                    </div>\r\n                    <Link to=\"/news\" className=\"view-all-link\">\r\n                        Xem tất cả\r\n                        <i className=\"fas fa-arrow-right\"></i>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"news-content\">\r\n                    {mainNews && (\r\n                        <div className=\"main-news\" onClick={() => handleNewsClick(mainNews.id)}>\r\n                            <div className=\"main-news-image\">\r\n                                <img src={mainNews.image || \"/placeholder.svg?height=400&width=600\"} alt={mainNews.title} />\r\n                                <div className=\"news-overlay\"></div>\r\n                                <div className=\"news-content-overlay\">\r\n                                    <div className=\"news-date\">{formatDate(mainNews.publishDate)}</div>\r\n                                    <h3 className=\"news-title\">{mainNews.title}</h3>\r\n                                    <p className=\"news-description\">\r\n                                        {mainNews.description.length > 150\r\n                                            ? `${mainNews.description.substring(0, 150)}...`\r\n                                            : mainNews.description}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"side-news\">\r\n                        {sideNews.map((news) => (\r\n                            <div key={news.id} className=\"side-news-item\" onClick={() => handleNewsClick(news.id)}>\r\n                                <div className=\"side-news-image\">\r\n                                    <img src={news.image || \"/placeholder.svg?height=120&width=200\"} alt={news.title} />\r\n                                </div>\r\n                                <div className=\"side-news-content\">\r\n                                    <h4 className=\"side-news-title\">\r\n                                        {news.title.length > 60 ? `${news.title.substring(0, 60)}...` : news.title}\r\n                                    </h4>\r\n                                    <div className=\"side-news-date\">{formatDate(news.publishDate)}</div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default FeaturedNews\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}