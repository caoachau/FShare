{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\untitled7\\\\src\\\\pages\\\\DocumentDetailPage.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { getDocumentById, getDocumentsByTag } from \"../data/documentsData\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport \"./DocumentDetailPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [document, setDocument] = useState(null);\n  const [relatedDocuments, setRelatedDocuments] = useState([]);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState(\"content\");\n  useEffect(() => {\n    if (id) {\n      const doc = getDocumentById(Number.parseInt(id));\n      if (doc) {\n        setDocument(doc);\n\n        // Get related documents by tags\n        const related = getDocumentsByTag(doc.tags[0]).filter(relDoc => relDoc.id !== doc.id).slice(0, 4);\n        setRelatedDocuments(related);\n\n        // Check if document is in favorites\n        if (user) {\n          const favorites = JSON.parse(localStorage.getItem(`favorites_${user.id}`) || \"[]\");\n          setIsFavorite(favorites.includes(doc.id));\n        }\n      } else {\n        navigate(\"/documents\");\n      }\n      setIsLoading(false);\n    }\n  }, [id, user, navigate]);\n  const toggleFavorite = () => {\n    if (!user) {\n      alert(\"Vui lòng đăng nhập để thêm vào yêu thích\");\n      return;\n    }\n    if (!document) return;\n    const favorites = JSON.parse(localStorage.getItem(`favorites_${user.id}`) || \"[]\");\n    const updatedFavorites = isFavorite ? favorites.filter(favId => favId !== document.id) : [...favorites, document.id];\n    localStorage.setItem(`favorites_${user.id}`, JSON.stringify(updatedFavorites));\n    setIsFavorite(!isFavorite);\n  };\n\n  // const handleDownload = () => {\n  //     if (!document) return\n  //\n  //     try {\n  //         // Tạo nội dung file dựa trên loại file\n  //         let fileContent = \"\"\n  //         let mimeType = \"text/plain\"\n  //         let fileName = `${document.title}.${document.fileType.toLowerCase()}`\n  //\n  //         switch (document.fileType.toUpperCase()) {\n  //             case \"TXT\":\n  //                 fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nNội dung:\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}`\n  //                 mimeType = \"text/plain\"\n  //                 break\n  //\n  //             case \"MD\":\n  //                 fileContent = `# ${document.title}\\n\\n**Mô tả:** ${document.description}\\n\\n**Tác giả:** ${document.author}\\n\\n**Ngày đăng:** ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\n## Nội dung\\n\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\n---\\n\\n*Tải từ DevShare - Nền tảng chia sẻ tài liệu IT*`\n  //                 mimeType = \"text/markdown\"\n  //                 break\n  //\n  //             case \"HTML\":\n  //                 fileContent = `<!DOCTYPE html>\\n<html>\\n<head>\\n<title>${document.title}</title>\\n<meta charset=\"UTF-8\">\\n</head>\\n<body>\\n<h1>${document.title}</h1>\\n<p><strong>Mô tả:</strong> ${document.description}</p>\\n<p><strong>Tác giả:</strong> ${document.author}</p>\\n<div>${document.content || \"Nội dung tài liệu...\"}</div>\\n</body>\\n</html>`\n  //                 mimeType = \"text/html\"\n  //                 fileName = `${document.title}.html`\n  //                 break\n  //\n  //             default:\n  //                 fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\nNội dung:\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\n---\\nTải từ DevShare`\n  //                 mimeType = \"text/plain\"\n  //                 fileName = `${document.title}.txt`\n  //         }\n  //\n  //         // Tạo và download file\n  //         const blob = new Blob([fileContent], { type: mimeType })\n  //         const url = URL.createObjectURL(blob)\n  //         const link = document.createElement(\"a\")\n  //\n  //         link.href = url\n  //         link.download = fileName\n  //         link.style.display = \"none\"\n  //\n  //         document.body.appendChild(link)\n  //         link.click()\n  //         document.body.removeChild(link)\n  //\n  //         // Cleanup\n  //         setTimeout(() => URL.revokeObjectURL(url), 100)\n  //\n  //         // Update download count\n  //         setDocument({ ...document, downloads: document.downloads + 1 })\n  //\n  //         // Show success message\n  //         alert(`Đã tải xuống: ${fileName}`)\n  //     } catch (error) {\n  //         console.error(\"Download error:\", error)\n  //         alert(\"Có lỗi xảy ra khi tải file. Vui lòng thử lại!\")\n  //     }\n  // }\n  const handleDownload = () => {\n    var _document$fileUrl;\n    if (!document) return;\n\n    // Nếu fileUrl là link ngoài (http/https) → mở tab mới\n    if ((_document$fileUrl = document.fileUrl) !== null && _document$fileUrl !== void 0 && _document$fileUrl.startsWith(\"http\")) {\n      window.open(document.fileUrl, \"_blank\");\n      return;\n    }\n    try {\n      var _document$content;\n      // Tạo nội dung file dựa trên loại file\n      let fileContent = \"\";\n      let mimeType = \"text/plain\";\n      let fileName = `${document.title}.${document.fileType.toLowerCase()}`;\n      const plainContent = ((_document$content = document.content) === null || _document$content === void 0 ? void 0 : _document$content.replace(/<[^>]*>/g, \"\")) || \"Nội dung tài liệu...\";\n      switch (document.fileType.toUpperCase()) {\n        case \"TXT\":\n          fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nNội dung:\\n${plainContent}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}`;\n          mimeType = \"text/plain\";\n          break;\n        case \"MD\":\n          fileContent = `# ${document.title}\\n\\n**Mô tả:** ${document.description}\\n\\n**Tác giả:** ${document.author}\\n**Ngày đăng:** ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\n## Nội dung\\n\\n${plainContent}\\n\\n---\\n*Tải từ DevShare - Nền tảng chia sẻ tài liệu IT*`;\n          mimeType = \"text/markdown\";\n          break;\n        case \"HTML\":\n          fileContent = `<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>${document.title}</title>\n</head>\n<body>\n  <h1>${document.title}</h1>\n  <p><strong>Mô tả:</strong> ${document.description}</p>\n  <p><strong>Tác giả:</strong> ${document.author}</p>\n  <div>${document.content || \"Nội dung tài liệu...\"}</div>\n</body>\n</html>`;\n          mimeType = \"text/html\";\n          break;\n        default:\n          fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\nNội dung:\\n${plainContent}\\n\\n---\\nTải từ DevShare`;\n          mimeType = \"text/plain\";\n      }\n\n      // Tạo và tải file giả lập từ blob\n      const blob = new Blob([fileContent], {\n        type: mimeType\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = fileName;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n\n      // Tăng lượt tải (nếu cần)\n      setDocument({\n        ...document,\n        downloads: document.downloads + 1\n      });\n    } catch (error) {\n      console.error(\"Lỗi khi tải tài liệu:\", error);\n    }\n  };\n  const generateFileContent = doc => {\n    var _doc$content, _doc$content2;\n    switch (doc.fileType) {\n      case \"TXT\":\n      case \"MD\":\n        return `${doc.title}\\n\\n${doc.description}\\n\\n${((_doc$content = doc.content) === null || _doc$content === void 0 ? void 0 : _doc$content.replace(/<[^>]*>/g, \"\")) || \"Nội dung tài liệu...\"}`;\n      default:\n        return `${doc.title}\\n\\n${doc.description}\\n\\nĐây là file ${doc.fileType} được tạo từ DevShare.\\nNội dung: ${((_doc$content2 = doc.content) === null || _doc$content2 === void 0 ? void 0 : _doc$content2.replace(/<[^>]*>/g, \"\")) || \"Nội dung tài liệu...\"}`;\n    }\n  };\n  const getFileType = fileType => {\n    switch (fileType) {\n      case \"PDF\":\n        return \"application/pdf\";\n      case \"DOC\":\n        return \"application/msword\";\n      case \"TXT\":\n        return \"text/plain\";\n      case \"MD\":\n        return \"text/markdown\";\n      default:\n        return \"text/plain\";\n    }\n  };\n  const handleShare = async () => {\n    if (!document) return;\n    const shareData = {\n      title: document.title,\n      text: document.description,\n      url: window.location.href\n    };\n    try {\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else {\n        // Fallback: copy to clipboard\n        await navigator.clipboard.writeText(window.location.href);\n        alert(\"Link đã được sao chép vào clipboard!\");\n      }\n    } catch (error) {\n      console.error(\"Error sharing:\", error);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"document-detail-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0110ang t\\u1EA3i t\\xE0i li\\u1EC7u...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this);\n  }\n  if (!document) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"document-detail-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Kh\\xF4ng t\\xECm th\\u1EA5y t\\xE0i li\\u1EC7u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/documents\"),\n          className: \"btn-primary\",\n          children: \"Quay l\\u1EA1i th\\u01B0 vi\\u1EC7n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"document-detail-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"document-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"document-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => navigate(\"/\"),\n              className: \"breadcrumb-link\",\n              children: \"Trang ch\\u1EE7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => navigate(\"/documents\"),\n              className: \"breadcrumb-link\",\n              children: \"Th\\u01B0 vi\\u1EC7n t\\xE0i li\\u1EC7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"breadcrumb-current\",\n              children: document.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"document-title\",\n            children: document.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"document-description\",\n            children: document.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"document-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"T\\xE1c gi\\u1EA3: \", document.author]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Ng\\xE0y \\u0111\\u0103ng: \", new Date(document.publishDate).toLocaleDateString(\"vi-VN\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [document.downloads.toLocaleString(), \" l\\u01B0\\u1EE3t t\\u1EA3i\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [document.rating, \"/5 (\", Math.floor(Math.random() * 100) + 50, \" \\u0111\\xE1nh gi\\xE1)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"document-tags\",\n            children: document.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tag\",\n              onClick: () => navigate(`/documents?search=${tag}`),\n              children: tag\n            }, tag, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-sidebar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `file-icon large ${document.iconClass}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: document.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-type\",\n                children: document.fileType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-size\",\n                children: document.fileSize\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-pages\",\n                children: [document.pages, \" trang\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-primary download-btn\",\n              onClick: handleDownload,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 33\n              }, this), \"T\\u1EA3i xu\\u1ED1ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `btn-secondary favorite-btn ${isFavorite ? \"active\" : \"\"}`,\n              onClick: toggleFavorite,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: `fas fa-heart ${isFavorite ? \"filled\" : \"\"}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 33\n              }, this), isFavorite ? \"Đã yêu thích\" : \"Yêu thích\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary share-btn\",\n              onClick: handleShare,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-share-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 33\n              }, this), \"Chia s\\u1EBB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"author-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: document.authorAvatar || \"/placeholder.svg\",\n              alt: document.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"author-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: document.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"T\\xE1c gi\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-outline\",\n                children: \"Xem h\\u1ED3 s\\u01A1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"document-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === \"content\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"content\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-file-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this), \"N\\u1ED9i dung\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === \"reviews\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"reviews\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-star\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 29\n            }, this), \"\\u0110\\xE1nh gi\\xE1\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === \"comments\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"comments\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this), \"B\\xECnh lu\\u1EADn\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          children: [activeTab === \"content\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-tab\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-preview\",\n              dangerouslySetInnerHTML: {\n                __html: document.content\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 29\n          }, this), activeTab === \"reviews\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reviews-tab\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviews-summary\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-overview\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rating-score\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"score\",\n                    children: document.rating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stars\",\n                    children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: `fas fa-star ${i < Math.floor(document.rating) ? \"filled\" : \"\"}`\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"total-reviews\",\n                    children: [\"(\", Math.floor(Math.random() * 100) + 50, \" \\u0111\\xE1nh gi\\xE1)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviews-list\",\n              children: [1, 2, 3].map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"review-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `/placeholder.svg?height=40&width=40`,\n                    alt: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"review-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      children: [\"Ng\\u01B0\\u1EDDi d\\xF9ng \", review]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"review-rating\",\n                      children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `fas fa-star ${i < 4 ? \"filled\" : \"\"}`\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 61\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"review-date\",\n                      children: \"2 ng\\xE0y tr\\u01B0\\u1EDBc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"review-text\",\n                  children: \"T\\xE0i li\\u1EC7u r\\u1EA5t h\\u1EEFu \\xEDch v\\xE0 d\\u1EC5 hi\\u1EC3u. N\\u1ED9i dung \\u0111\\u01B0\\u1EE3c tr\\xECnh b\\xE0y m\\u1ED9t c\\xE1ch logic v\\xE0 c\\xF3 nhi\\u1EC1u v\\xED d\\u1EE5 th\\u1EF1c t\\u1EBF.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 45\n                }, this)]\n              }, review, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this), activeTab === \"comments\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comments-tab\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u0110\\u1EC3 l\\u1EA1i b\\xECnh lu\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"Chia s\\u1EBB suy ngh\\u0129 c\\u1EE7a b\\u1EA1n v\\u1EC1 t\\xE0i li\\u1EC7u n\\xE0y...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary\",\n                children: \"G\\u1EEDi b\\xECnh lu\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comments-list\",\n              children: [1, 2].map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `/placeholder.svg?height=40&width=40`,\n                  alt: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comment-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"comment-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      children: [\"Ng\\u01B0\\u1EDDi d\\xF9ng \", comment]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"comment-date\",\n                      children: \"1 gi\\u1EDD tr\\u01B0\\u1EDBc\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"C\\u1EA3m \\u01A1n t\\xE1c gi\\u1EA3 \\u0111\\xE3 chia s\\u1EBB t\\xE0i li\\u1EC7u h\\u1EEFu \\xEDch n\\xE0y!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 45\n                }, this)]\n              }, comment, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }, this), relatedDocuments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"related-documents\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"T\\xE0i li\\u1EC7u li\\xEAn quan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related-grid\",\n          children: relatedDocuments.map(relDoc => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"related-card\",\n            onClick: () => navigate(`/document/${relDoc.id}`),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `file-icon ${relDoc.iconClass}`,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: relDoc.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"related-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: relDoc.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: relDoc.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"related-stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this), \" \", relDoc.downloads]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-star\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 25\n                  }, this), \" \", relDoc.rating]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 37\n            }, this)]\n          }, relDoc.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentDetailPage, \"752Qe341EK5EDwlr0Oqv21Q21Xc=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = DocumentDetailPage;\nexport default DocumentDetailPage;\nvar _c;\n$RefreshReg$(_c, \"DocumentDetailPage\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useParams","useNavigate","getDocumentById","getDocumentsByTag","useAuth","jsxDEV","_jsxDEV","DocumentDetailPage","id","navigate","user","document","setDocument","relatedDocuments","setRelatedDocuments","isFavorite","setIsFavorite","isLoading","setIsLoading","activeTab","setActiveTab","doc","Number","parseInt","related","tags","filter","relDoc","slice","favorites","JSON","parse","localStorage","getItem","includes","toggleFavorite","alert","updatedFavorites","favId","setItem","stringify","handleDownload","_document$fileUrl","fileUrl","startsWith","window","open","_document$content","fileContent","mimeType","fileName","title","fileType","toLowerCase","plainContent","content","replace","toUpperCase","description","author","Date","publishDate","toLocaleDateString","blob","Blob","type","url","URL","createObjectURL","link","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","downloads","error","console","generateFileContent","_doc$content","_doc$content2","getFileType","handleShare","shareData","text","location","navigator","share","clipboard","writeText","className","children","lineNumber","columnNumber","onClick","toLocaleString","rating","Math","floor","random","map","tag","iconClass","icon","fileSize","pages","src","authorAvatar","alt","dangerouslySetInnerHTML","__html","Array","_","i","review","placeholder","comment","length","_c","$RefreshReg$"],"sources":["D:/untitled7/src/pages/DocumentDetailPage.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { useParams, useNavigate } from \"react-router-dom\"\r\nimport { getDocumentById, getDocumentsByTag } from \"../data/documentsData\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport \"./DocumentDetailPage.css\"\r\n\r\nconst DocumentDetailPage: React.FC = () => {\r\n    const { id } = useParams<{ id: string }>()\r\n    const navigate = useNavigate()\r\n    const { user } = useAuth()\r\n    const [document, setDocument] = useState<any>(null)\r\n    const [relatedDocuments, setRelatedDocuments] = useState<any[]>([])\r\n    const [isFavorite, setIsFavorite] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [activeTab, setActiveTab] = useState(\"content\")\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            const doc = getDocumentById(Number.parseInt(id))\r\n            if (doc) {\r\n                setDocument(doc)\r\n\r\n                // Get related documents by tags\r\n                const related = getDocumentsByTag(doc.tags[0])\r\n                    .filter((relDoc) => relDoc.id !== doc.id)\r\n                    .slice(0, 4)\r\n                setRelatedDocuments(related)\r\n\r\n                // Check if document is in favorites\r\n                if (user) {\r\n                    const favorites = JSON.parse(localStorage.getItem(`favorites_${user.id}`) || \"[]\")\r\n                    setIsFavorite(favorites.includes(doc.id))\r\n                }\r\n            } else {\r\n                navigate(\"/documents\")\r\n            }\r\n            setIsLoading(false)\r\n        }\r\n    }, [id, user, navigate])\r\n\r\n    const toggleFavorite = () => {\r\n        if (!user) {\r\n            alert(\"Vui lòng đăng nhập để thêm vào yêu thích\")\r\n            return\r\n        }\r\n\r\n        if (!document) return\r\n\r\n        const favorites = JSON.parse(localStorage.getItem(`favorites_${user.id}`) || \"[]\")\r\n        const updatedFavorites = isFavorite\r\n            ? favorites.filter((favId: number) => favId !== document.id)\r\n            : [...favorites, document.id]\r\n\r\n        localStorage.setItem(`favorites_${user.id}`, JSON.stringify(updatedFavorites))\r\n        setIsFavorite(!isFavorite)\r\n    }\r\n\r\n    // const handleDownload = () => {\r\n    //     if (!document) return\r\n    //\r\n    //     try {\r\n    //         // Tạo nội dung file dựa trên loại file\r\n    //         let fileContent = \"\"\r\n    //         let mimeType = \"text/plain\"\r\n    //         let fileName = `${document.title}.${document.fileType.toLowerCase()}`\r\n    //\r\n    //         switch (document.fileType.toUpperCase()) {\r\n    //             case \"TXT\":\r\n    //                 fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nNội dung:\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}`\r\n    //                 mimeType = \"text/plain\"\r\n    //                 break\r\n    //\r\n    //             case \"MD\":\r\n    //                 fileContent = `# ${document.title}\\n\\n**Mô tả:** ${document.description}\\n\\n**Tác giả:** ${document.author}\\n\\n**Ngày đăng:** ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\n## Nội dung\\n\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\n---\\n\\n*Tải từ DevShare - Nền tảng chia sẻ tài liệu IT*`\r\n    //                 mimeType = \"text/markdown\"\r\n    //                 break\r\n    //\r\n    //             case \"HTML\":\r\n    //                 fileContent = `<!DOCTYPE html>\\n<html>\\n<head>\\n<title>${document.title}</title>\\n<meta charset=\"UTF-8\">\\n</head>\\n<body>\\n<h1>${document.title}</h1>\\n<p><strong>Mô tả:</strong> ${document.description}</p>\\n<p><strong>Tác giả:</strong> ${document.author}</p>\\n<div>${document.content || \"Nội dung tài liệu...\"}</div>\\n</body>\\n</html>`\r\n    //                 mimeType = \"text/html\"\r\n    //                 fileName = `${document.title}.html`\r\n    //                 break\r\n    //\r\n    //             default:\r\n    //                 fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\nNội dung:\\n${document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}\\n\\n---\\nTải từ DevShare`\r\n    //                 mimeType = \"text/plain\"\r\n    //                 fileName = `${document.title}.txt`\r\n    //         }\r\n    //\r\n    //         // Tạo và download file\r\n    //         const blob = new Blob([fileContent], { type: mimeType })\r\n    //         const url = URL.createObjectURL(blob)\r\n    //         const link = document.createElement(\"a\")\r\n    //\r\n    //         link.href = url\r\n    //         link.download = fileName\r\n    //         link.style.display = \"none\"\r\n    //\r\n    //         document.body.appendChild(link)\r\n    //         link.click()\r\n    //         document.body.removeChild(link)\r\n    //\r\n    //         // Cleanup\r\n    //         setTimeout(() => URL.revokeObjectURL(url), 100)\r\n    //\r\n    //         // Update download count\r\n    //         setDocument({ ...document, downloads: document.downloads + 1 })\r\n    //\r\n    //         // Show success message\r\n    //         alert(`Đã tải xuống: ${fileName}`)\r\n    //     } catch (error) {\r\n    //         console.error(\"Download error:\", error)\r\n    //         alert(\"Có lỗi xảy ra khi tải file. Vui lòng thử lại!\")\r\n    //     }\r\n    // }\r\n    const handleDownload = () => {\r\n        if (!document) return;\r\n\r\n        // Nếu fileUrl là link ngoài (http/https) → mở tab mới\r\n        if (document.fileUrl?.startsWith(\"http\")) {\r\n            window.open(document.fileUrl, \"_blank\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Tạo nội dung file dựa trên loại file\r\n            let fileContent = \"\";\r\n            let mimeType = \"text/plain\";\r\n            let fileName = `${document.title}.${document.fileType.toLowerCase()}`;\r\n\r\n            const plainContent = document.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\";\r\n\r\n            switch (document.fileType.toUpperCase()) {\r\n                case \"TXT\":\r\n                    fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nNội dung:\\n${plainContent}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}`;\r\n                    mimeType = \"text/plain\";\r\n                    break;\r\n\r\n                case \"MD\":\r\n                    fileContent = `# ${document.title}\\n\\n**Mô tả:** ${document.description}\\n\\n**Tác giả:** ${document.author}\\n**Ngày đăng:** ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\n## Nội dung\\n\\n${plainContent}\\n\\n---\\n*Tải từ DevShare - Nền tảng chia sẻ tài liệu IT*`;\r\n                    mimeType = \"text/markdown\";\r\n                    break;\r\n\r\n                case \"HTML\":\r\n                    fileContent = `<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>${document.title}</title>\r\n</head>\r\n<body>\r\n  <h1>${document.title}</h1>\r\n  <p><strong>Mô tả:</strong> ${document.description}</p>\r\n  <p><strong>Tác giả:</strong> ${document.author}</p>\r\n  <div>${document.content || \"Nội dung tài liệu...\"}</div>\r\n</body>\r\n</html>`;\r\n                    mimeType = \"text/html\";\r\n                    break;\r\n\r\n                default:\r\n                    fileContent = `${document.title}\\n\\nMô tả: ${document.description}\\n\\nTác giả: ${document.author}\\nNgày đăng: ${new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}\\n\\nNội dung:\\n${plainContent}\\n\\n---\\nTải từ DevShare`;\r\n                    mimeType = \"text/plain\";\r\n            }\r\n\r\n            // Tạo và tải file giả lập từ blob\r\n            const blob = new Blob([fileContent], { type: mimeType });\r\n            const url = URL.createObjectURL(blob);\r\n            const link = document.createElement(\"a\");\r\n            link.href = url;\r\n            link.download = fileName;\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n\r\n            // Tăng lượt tải (nếu cần)\r\n            setDocument({ ...document, downloads: document.downloads + 1 });\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi tải tài liệu:\", error);\r\n        }\r\n    };\r\n\r\n\r\n    const generateFileContent = (doc: any) => {\r\n        switch (doc.fileType) {\r\n            case \"TXT\":\r\n            case \"MD\":\r\n                return `${doc.title}\\n\\n${doc.description}\\n\\n${doc.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}`\r\n            default:\r\n                return `${doc.title}\\n\\n${doc.description}\\n\\nĐây là file ${doc.fileType} được tạo từ DevShare.\\nNội dung: ${doc.content?.replace(/<[^>]*>/g, \"\") || \"Nội dung tài liệu...\"}`\r\n        }\r\n    }\r\n\r\n    const getFileType = (fileType: string) => {\r\n        switch (fileType) {\r\n            case \"PDF\":\r\n                return \"application/pdf\"\r\n            case \"DOC\":\r\n                return \"application/msword\"\r\n            case \"TXT\":\r\n                return \"text/plain\"\r\n            case \"MD\":\r\n                return \"text/markdown\"\r\n            default:\r\n                return \"text/plain\"\r\n        }\r\n    }\r\n\r\n    const handleShare = async () => {\r\n        if (!document) return\r\n\r\n        const shareData = {\r\n            title: document.title,\r\n            text: document.description,\r\n            url: window.location.href,\r\n        }\r\n\r\n        try {\r\n            if (navigator.share) {\r\n                await navigator.share(shareData)\r\n            } else {\r\n                // Fallback: copy to clipboard\r\n                await navigator.clipboard.writeText(window.location.href)\r\n                alert(\"Link đã được sao chép vào clipboard!\")\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error sharing:\", error)\r\n        }\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"document-detail-page\">\r\n                <div className=\"loading-container\">\r\n                    <div className=\"loading-spinner\"></div>\r\n                    <p>Đang tải tài liệu...</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!document) {\r\n        return (\r\n            <div className=\"document-detail-page\">\r\n                <div className=\"error-container\">\r\n                    <h2>Không tìm thấy tài liệu</h2>\r\n                    <button onClick={() => navigate(\"/documents\")} className=\"btn-primary\">\r\n                        Quay lại thư viện\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"document-detail-page\">\r\n            <div className=\"document-container\">\r\n                <div className=\"document-header\">\r\n                    <div className=\"document-info\">\r\n                        <div className=\"breadcrumb\">\r\n              <span onClick={() => navigate(\"/\")} className=\"breadcrumb-link\">\r\n                Trang chủ\r\n              </span>\r\n                            <i className=\"fas fa-chevron-right\"></i>\r\n                            <span onClick={() => navigate(\"/documents\")} className=\"breadcrumb-link\">\r\n                Thư viện tài liệu\r\n              </span>\r\n                            <i className=\"fas fa-chevron-right\"></i>\r\n                            <span className=\"breadcrumb-current\">{document.title}</span>\r\n                        </div>\r\n\r\n                        <h1 className=\"document-title\">{document.title}</h1>\r\n                        <p className=\"document-description\">{document.description}</p>\r\n\r\n                        <div className=\"document-meta\">\r\n                            <div className=\"meta-item\">\r\n                                <i className=\"fas fa-user\"></i>\r\n                                <span>Tác giả: {document.author}</span>\r\n                            </div>\r\n                            <div className=\"meta-item\">\r\n                                <i className=\"fas fa-calendar\"></i>\r\n                                <span>Ngày đăng: {new Date(document.publishDate).toLocaleDateString(\"vi-VN\")}</span>\r\n                            </div>\r\n                            <div className=\"meta-item\">\r\n                                <i className=\"fas fa-download\"></i>\r\n                                <span>{document.downloads.toLocaleString()} lượt tải</span>\r\n                            </div>\r\n                            <div className=\"meta-item\">\r\n                                <i className=\"fas fa-star\"></i>\r\n                                <span>\r\n                  {document.rating}/5 ({Math.floor(Math.random() * 100) + 50} đánh giá)\r\n                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"document-tags\">\r\n                            {document.tags.map((tag: string) => (\r\n                                <span key={tag} className=\"tag\" onClick={() => navigate(`/documents?search=${tag}`)}>\r\n                  {tag}\r\n                </span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"document-sidebar\">\r\n                        <div className=\"file-preview\">\r\n                            <div className={`file-icon large ${document.iconClass}`}>\r\n                                <i className={document.icon}></i>\r\n                            </div>\r\n                            <div className=\"file-details\">\r\n                                <span className=\"file-type\">{document.fileType}</span>\r\n                                <span className=\"file-size\">{document.fileSize}</span>\r\n                                <span className=\"file-pages\">{document.pages} trang</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"action-buttons\">\r\n                            <button className=\"btn-primary download-btn\" onClick={handleDownload}>\r\n                                <i className=\"fas fa-download\"></i>\r\n                                Tải xuống\r\n                            </button>\r\n                            <button className={`btn-secondary favorite-btn ${isFavorite ? \"active\" : \"\"}`} onClick={toggleFavorite}>\r\n                                <i className={`fas fa-heart ${isFavorite ? \"filled\" : \"\"}`}></i>\r\n                                {isFavorite ? \"Đã yêu thích\" : \"Yêu thích\"}\r\n                            </button>\r\n                            <button className=\"btn-secondary share-btn\" onClick={handleShare}>\r\n                                <i className=\"fas fa-share-alt\"></i>\r\n                                Chia sẻ\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"author-info\">\r\n                            <img src={document.authorAvatar || \"/placeholder.svg\"} alt={document.author} />\r\n                            <div className=\"author-details\">\r\n                                <h4>{document.author}</h4>\r\n                                <p>Tác giả</p>\r\n                                <button className=\"btn-outline\">Xem hồ sơ</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"document-content\">\r\n                    <div className=\"content-tabs\">\r\n                        <button\r\n                            className={`tab-btn ${activeTab === \"content\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"content\")}\r\n                        >\r\n                            <i className=\"fas fa-file-alt\"></i>\r\n                            Nội dung\r\n                        </button>\r\n                        <button\r\n                            className={`tab-btn ${activeTab === \"reviews\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"reviews\")}\r\n                        >\r\n                            <i className=\"fas fa-star\"></i>\r\n                            Đánh giá\r\n                        </button>\r\n                        <button\r\n                            className={`tab-btn ${activeTab === \"comments\" ? \"active\" : \"\"}`}\r\n                            onClick={() => setActiveTab(\"comments\")}\r\n                        >\r\n                            <i className=\"fas fa-comments\"></i>\r\n                            Bình luận\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"tab-content\">\r\n                        {activeTab === \"content\" && (\r\n                            <div className=\"content-tab\">\r\n                                <div className=\"content-preview\" dangerouslySetInnerHTML={{ __html: document.content }} />\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === \"reviews\" && (\r\n                            <div className=\"reviews-tab\">\r\n                                <div className=\"reviews-summary\">\r\n                                    <div className=\"rating-overview\">\r\n                                        <div className=\"rating-score\">\r\n                                            <span className=\"score\">{document.rating}</span>\r\n                                            <div className=\"stars\">\r\n                                                {[...Array(5)].map((_, i) => (\r\n                                                    <i key={i} className={`fas fa-star ${i < Math.floor(document.rating) ? \"filled\" : \"\"}`}></i>\r\n                                                ))}\r\n                                            </div>\r\n                                            <span className=\"total-reviews\">({Math.floor(Math.random() * 100) + 50} đánh giá)</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"reviews-list\">\r\n                                    {[1, 2, 3].map((review) => (\r\n                                        <div key={review} className=\"review-item\">\r\n                                            <div className=\"review-header\">\r\n                                                <img src={`/placeholder.svg?height=40&width=40`} alt=\"User\" />\r\n                                                <div className=\"review-info\">\r\n                                                    <h5>Người dùng {review}</h5>\r\n                                                    <div className=\"review-rating\">\r\n                                                        {[...Array(5)].map((_, i) => (\r\n                                                            <i key={i} className={`fas fa-star ${i < 4 ? \"filled\" : \"\"}`}></i>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                    <span className=\"review-date\">2 ngày trước</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"review-text\">\r\n                                                Tài liệu rất hữu ích và dễ hiểu. Nội dung được trình bày một cách logic và có nhiều ví dụ thực\r\n                                                tế.\r\n                                            </p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === \"comments\" && (\r\n                            <div className=\"comments-tab\">\r\n                                <div className=\"comment-form\">\r\n                                    <h4>Để lại bình luận</h4>\r\n                                    <textarea placeholder=\"Chia sẻ suy nghĩ của bạn về tài liệu này...\"></textarea>\r\n                                    <button className=\"btn-primary\">Gửi bình luận</button>\r\n                                </div>\r\n\r\n                                <div className=\"comments-list\">\r\n                                    {[1, 2].map((comment) => (\r\n                                        <div key={comment} className=\"comment-item\">\r\n                                            <img src={`/placeholder.svg?height=40&width=40`} alt=\"User\" />\r\n                                            <div className=\"comment-content\">\r\n                                                <div className=\"comment-header\">\r\n                                                    <h5>Người dùng {comment}</h5>\r\n                                                    <span className=\"comment-date\">1 giờ trước</span>\r\n                                                </div>\r\n                                                <p>Cảm ơn tác giả đã chia sẻ tài liệu hữu ích này!</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {relatedDocuments.length > 0 && (\r\n                    <div className=\"related-documents\">\r\n                        <h3>Tài liệu liên quan</h3>\r\n                        <div className=\"related-grid\">\r\n                            {relatedDocuments.map((relDoc) => (\r\n                                <div key={relDoc.id} className=\"related-card\" onClick={() => navigate(`/document/${relDoc.id}`)}>\r\n                                    <div className={`file-icon ${relDoc.iconClass}`}>\r\n                                        <i className={relDoc.icon}></i>\r\n                                    </div>\r\n                                    <div className=\"related-info\">\r\n                                        <h4>{relDoc.title}</h4>\r\n                                        <p>{relDoc.author}</p>\r\n                                        <div className=\"related-stats\">\r\n                      <span>\r\n                        <i className=\"fas fa-download\"></i> {relDoc.downloads}\r\n                      </span>\r\n                                            <span>\r\n                        <i className=\"fas fa-star\"></i> {relDoc.rating}\r\n                      </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DocumentDetailPage\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}